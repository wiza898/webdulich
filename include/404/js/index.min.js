var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(time){return window.setTimeout(time,1e3/60,(new Date).getTime())}();function random(max,min){return Math.floor(Math.random()*(max+min-1)+min)}function moonAndStar(options){"object"==typeof options&&options||console.warn("The best way is that you should pass an object params!");const defaultConfig={width:window.innerWidth,height:window.innerHeight,container:document.body};let config=this.config=Object.assign(defaultConfig,options);this._init(config);let context=this;function repeatCanvas(){context.resetCanvas(),context.createStar(150),context.createMoon(),requestAnimationFrame(repeatCanvas)}repeatCanvas(),window.onresize=function(){config.width=window.innerWidth,config.height=window.innerHeight,context._init(config),repeatCanvas()}}moonAndStar.prototype._init=function(config){const _canvas=document.getElementById("ew-moon-star");let canvas=null;_canvas?canvas=_canvas:(canvas=document.createElement("canvas"),canvas.setAttribute("id","ew-moon-star"));const ctx=canvas.getContext("2d");this.canvas=canvas,this.ctx=ctx,canvas.width=config.width,canvas.height=config.height,_canvas||config.container.appendChild(canvas),this.star=function(x,y,r){return this.x=x,this.y=y,this.r=r,this},this.stars=[],this.resetCanvas(),this.createStar(200),this.createMoon()},moonAndStar.prototype.createMoon=function(){let gradient=this.ctx.createRadialGradient(80,80,40,80,80,400);[{alpha:0,color:"rgb(255,255,255)"},{alpha:.01,color:"rgb(23,30,38)"},{alpha:.2,color:"rgb(23,30,38)"},{alpha:.4,color:"rgb(23,30,38)"},{alpha:1,color:"rgb(23,30,38)"}].forEach(item=>{gradient.addColorStop(item.alpha,item.color)}),this.ctx.save(),this.ctx.fillStyle=gradient,this.ctx.fillRect(0,0,200,200),this.ctx.restore()},moonAndStar.prototype.resetCanvas=function(){this.ctx.clearRect(0,0,this.config.width,this.config.height),this.ctx.fillStyle="#171e26",this.ctx.fillRect(0,0,this.config.width,this.config.height)},moonAndStar.prototype.createStar=function(num){let Star=this.star,ctx=this.ctx,addStars=function(x,y,r){ctx.fillStyle="#fff",ctx.beginPath(),ctx.arc(x,y,r,0,2*Math.PI),ctx.fill(),ctx.closePath()};if(this.stars.length)for(let j=0;j<num;j++)this.stars[j].r=random(2,.8),addStars(this.stars[j].x,this.stars[j].y,this.stars[j].r);else for(let i=0;i<num;i++){let x=Math.random()*this.config.width,y=Math.random()*this.config.height,r=random(1.5,.4),s=new Star(x,y,r);addStars(x,y,r),this.stars.push(s)}};